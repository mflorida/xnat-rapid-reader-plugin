(window["webpackJsonprapid-reader"]=window["webpackJsonprapid-reader"]||[]).push([[0],{26:function(e,t,a){e.exports=a(55)},31:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),o=(a(31),a(6)),s=a(5),i=a(4),m=window.location.protocol+"//"+window.location.host,u={app:"/read",context:"",host:m,siteUrl:m+"",appUrl:m+"/read"},d=a(22),E=a.n(d);function p(e,t){console.log("useRequest");var a=Object(n.useState)(null),l=Object(i.a)(a,2),r=l[0],c=l[1],o=Object(n.useState)(null),s=Object(i.a)(o,2),m=s[0],u=s[1];return Object(n.useEffect)(function(){!function(){var t=E()(e);u(t),t.then(function(e){return c(e),console.log("useRequest:response"),console.log(e),e})}()},t||[]),[r,m]}function h(e){return l.a.createElement("div",{className:"spinner-boarder ".concat(e.type?e.type:"text-light"),role:"status"},l.a.createElement("span",{className:"sr-only"},e.text||"Loading..."))}var g=function(e){console.log(e);var t,a=p({url:"".concat(u.siteUrl,"/data/search/saved?format=json&t=").concat(Date.now()),method:"GET"}),n=Object(i.a)(a,2),r=n[0],c=n[1];return l.a.createElement("div",{className:"stored-searches",style:{width:600,margin:"20px auto"}},l.a.createElement("h1",null,"Worklists"),r&&r.data?l.a.createElement("div",{className:"list-group"},(t=r.data).ResultSet&&t.ResultSet.Result?t.ResultSet.Result.map(function(e){if(function(e){return/^(read|worklist)/i.test(e.brief_description)&&/SessionData$/i.test(e.root_element_name)}(e)){var t=e.brief_description.split(/[:|]/),a=e.id,n=(t[2]||"").trim(),r=(t[1]||"").trim();return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{className:"list-group-item list-group-item-action text-white bg-dark",href:"#/worklists/".concat(a,"/").concat(n)},r))}}):"",console.log(c)):l.a.createElement(h,null))};var f=function(e){var t=e.match.params,a=t.searchId,n=t.templateId,r=p({url:"".concat(u.siteUrl,"/data/search/saved/").concat(a,"/results?format=json&t=").concat(Date.now()),method:"GET"}),c=Object(i.a)(r,2),o=c[0];function m(e){return console.log("resultCount"),e&&e.ResultSet&&e.ResultSet.Result?e.ResultSet.Result.length:0}return c[1],l.a.createElement("div",{className:"stored-search"},o&&o.data?l.a.createElement(l.a.Fragment,null,m(o.data)?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{to:"/worklists/".concat(a,"/").concat(n,"/1/").concat(m(o.data))})):l.a.createElement("i",null,"No results.")):l.a.createElement("small",null,"Loading..."))},v=a(25),b=a.n(v);a(54);function w(e){var t=e.template,a=p({url:"https://phpapi.rsna.org/radreport/v1/templates/".concat(t,"/details"),method:"GET"},t),n=Object(i.a)(a,2),r=n[0];n[1];return l.a.createElement("form",{id:"form-template-wrapper",action:"#!"},r&&r.data&&l.a.createElement(function(){var e=r.data.DATA.templateData.split("<body>")[1].split("</body>")[0];return l.a.createElement("div",{id:"read-form-template",dangerouslySetInnerHTML:{__html:b.a.sanitize(e)}})},null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"submit"},"Save and Continue"),l.a.createElement("br",null),l.a.createElement("br",null))}var x=function(e){var t=e.dataFields,a="VIEWER";return l.a.createElement("div",{id:"viewer-iframe",style:{width:"70%",float:"left"}},l.a.createElement("iframe",{src:function(){console.log("iframeSrc");var e=["projectId=".concat(t.project),"subjectId=".concat(t.xnat_subjectdata_subjectid),"experimentId=".concat(t.session_id),"t=".concat(Date.now())];return"".concat(u.siteUrl,"/").concat(a,"/?").concat(e.join("&"))}(),title:t.session_id,width:"100%",height:"720",style:{border:"none"}}))};var I=[{path:"/",exact:!0,page:g,label:"Worklists"},{path:"/worklists",exact:!0,page:g,label:"Worklists"},{path:"/worklists/:searchId/:templateId",exact:!0,page:f,label:"Search Results"},{path:"/worklists/:searchId/:templateId/:searchItemIndex/:searchItemsLength",exact:!0,page:function(e){var t=e.match.params,a=t.searchId,n=t.searchItemIndex,r=t.searchItemsLength,c=e.match.params.templateId;n=+n;var s=p({url:"".concat(u.siteUrl,"/data/search/saved/").concat(a,"/results?format=json&t=").concat(Date.now()),method:"GET"}),m=Object(i.a)(s,2),d=m[0],E=m[1],g=null;function f(e){return console.log("extractResults"),e.ResultSet.Result}function v(e){return console.log("extractItem"),g=f(e)[n-1]}function b(e){return console.log("resultCount"),f(e).length}function I(e){var t,n=e.txt,s=e.newIndex,i=n,m={width:"40%",lineHeight:2};return"Prev"===n?(t=s<=0,i=l.a.createElement(l.a.Fragment,null,"\xab Prev")):(t=s>r,i=l.a.createElement(l.a.Fragment,null,"Next \xbb")),t?l.a.createElement("button",{disabled:!0,style:m},i):l.a.createElement(o.b,{to:"/worklists/".concat(a,"/").concat(c,"/").concat(s,"/").concat(r)},l.a.createElement("button",{style:m},i))}return l.a.createElement("div",{className:"view-session",style:{margin:20}},d&&d.data?l.a.createElement(l.a.Fragment,null,b(d.data)?l.a.createElement(l.a.Fragment,null,n>b(d.data)||n<=0?l.a.createElement("i",null,"Invalid Session"):l.a.createElement(l.a.Fragment,null,void E.then(function(e){localStorage.setItem("worklist_".concat(a),JSON.stringify(g)),console.log(e)}),l.a.createElement(function(e){var t=e.data,a=e.itemIndex,n=v(t);return console.log(n),l.a.createElement("header",{className:"header clearfix",style:{margin:20,lineHeight:2.2,verticalAlign:"middle"}},l.a.createElement("div",{className:"float-left",style:{width:"70%"}},l.a.createElement(o.b,{to:"/worklists"},l.a.createElement("b",null,l.a.createElement(l.a.Fragment,null,"\xab\xa0"),"Worklists")),l.a.createElement(l.a.Fragment,null,"\xa0\xa0|\xa0\xa0"),"Session Label: ",l.a.createElement("b",null,n.label),l.a.createElement(l.a.Fragment,null,"\xa0\xa0|\xa0\xa0"),"Session ID: ",l.a.createElement("b",null,n.session_id),l.a.createElement(l.a.Fragment,null,"\xa0\xa0|\xa0\xa0"),"Subject: ",l.a.createElement("b",null,n.xnat_subjectdata_subjectid),l.a.createElement(l.a.Fragment,null,"\xa0\xa0|\xa0\xa0"),"Project: ",l.a.createElement("b",null,n.project)),l.a.createElement("div",{className:"float-right text-right",style:{width:"30%"}},l.a.createElement(I,{txt:"Prev",newIndex:a-1}),"\xa0",l.a.createElement(I,{txt:"Next",newIndex:a+1})))},{data:d.data,itemIndex:n}),l.a.createElement("div",{className:"clearfix"},l.a.createElement(x,{dataFields:v(d.data)}),l.a.createElement("div",{id:"session-data",style:{width:"30%",float:"right"}},l.a.createElement("div",{className:"pad pad20",style:{padding:20}},l.a.createElement("div",null,l.a.createElement("small",null,"Viewing session #",n," of ",r)),l.a.createElement("br",null),l.a.createElement(w,{template:c}),l.a.createElement("table",null,l.a.createElement("tbody",null,(g=v(d.data))&&Object.keys(g).sort().map(function(e,t){var a=g[e];return l.a.createElement("tr",{className:t%2?"even":"odd"},l.a.createElement("th",null,e),l.a.createElement("td",null,a))})))))))):l.a.createElement("i",null,"No results.")):l.a.createElement(h,null))},label:"Session Data"}];var j=function(e){return l.a.createElement("div",{className:"not-found text-center",style:{width:600,margin:"0 auto"}},console.log(e),l.a.createElement("h1",null,"Didn't find ur page."),l.a.createElement("div",{className:"alert alert-dark"},'"',window.location.href,'" does not exist'))};var y=function(e){return l.a.createElement("div",{id:"app-wrapper"},l.a.createElement(o.a,null,l.a.createElement(s.d,null,I.map(function(e,t){return e.exact?l.a.createElement(s.b,{exact:!0,path:e.path,component:e.page}):l.a.createElement(s.b,{path:e.path,component:e.page})}),l.a.createElement(s.b,{component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.7936cfb5.chunk.js.map